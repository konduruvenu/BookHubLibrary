<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="css/custom.css">
<link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
<title>Profile</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
.card {
	box-shadow: 0 0.15rem 1.75rem 0 rgb(33 40 50/ 15%);
}

.card .card-header {
	font-weight: 500;
}

.card-header:first-child {
	border-radius: 0.35rem 0.35rem 0 0;
}

.card-header {
	padding: 1rem 1.35rem;
	margin-bottom: 0;
	background-color: rgba(33, 40, 50, 0.03);
	border-bottom: 1px solid rgba(33, 40, 50, 0.125);
}

.form-control, .dataTable-input {
	display: block;
	width: 100%;
	padding: 0.875rem 1.125rem;
	font-size: 0.875rem;
	font-weight: 400;
	line-height: 1;
	color: #69707a;
	background-color: #fff;
	background-clip: padding-box;
	border: 1px solid #c5ccd6;
	-webkit-appearance: none;
	-moz-appearance: none;
	appearance: none;
	border-radius: 0.35rem;
	transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}
</style>
</head>
<body>
	<div class="sidebar">
		<div class="logo-details">
			<i class='bx bxl-firebase'></i> <span class="logo_name">BookHub</span>
		</div>
		<ul class="nav-links">
			<li><a href="/returnDashboard" > <i class='bx bx-grid-alt'></i>
					<span class="links_name">DashBoard</span>
			</a></li>
			<li><a href="/userProfile" class="active"> <i
					class='bx bxs-user-rectangle bx-flip-horizantal'></i> <span
					class="links_name">My Profile</span>
			</a></li>
			<li><a href="/viewAllCategory"> <i class='bx bx-spreadsheet'></i>
					<span class="links_name">Category</span>
			</a></li>
			<li><a href="/viewIssueBook"> <i class='bx bx-merge'></i> <span
					class="links_name">Issue Books</span>
			</a></li>
			<li><a href="/viewReturnBook"> <i class='bx bx-minus-back'></i>
					<span class="links_name">Return Books</span>
			</a></li>
			<li><a href="/viewReserveBook"> <i class='bx bxs-bookmark'></i> <span
					class="links_name">Reserved Books</span>
			</a></li>

			<li class="log_out"><a href="/homepage"> <i class='bx bx-log-out'></i>
					<span class="links_name">Log out</span>
			</a></li>
		</ul>
	</div>
	<section class="home-section">
		<nav>
			<div class="sidebar-button">
				<i class='bx bx-menu sidebarBtn'></i> <span class="dashboard">Dashboard</span>
			</div>
			
			<div class="profile-details">
				<i class='bx bx-user-circle'></i> <span class="admin_name" th:object="${user}" th:text="${user.getName()}"></span> 
			</div>
		</nav>
		<div class="home-content">
			<div class="card mb-4">
				<div class="card-header">User Details</div>
				<div class="card-body">
					<form action="/editUser" method="post" th:object="${user}">
						<!-- Form Group (username)-->
				        <input th:value="${user.getId()}" name="id" type="hidden">
						<div class="mb-3">
							<label class="small mb-1" for="name">Username</label> <input
								class="form-control" id="name" name="name" type="text"
								th:value="${user.getName()}">
						</div>
						<!-- Form Row-->
						<div class="mb-3">
							<label class="small mb-1" for="email">Email</label> <input
								class="form-control" id="email" name="email" type="email"
								th:value="${user.getEmail()}">
						</div>
						<div class="mb-3">
							<label class="small mb-1" for="password">Password</label> <input
								class="form-control" id="password" name="password" type="text"
								th:value="${user.getPassword()}">
						</div>
						<div class="mb-3">
							<label class="small mb-1" for="contact">Phone Number </label> <input
								class="form-control" id="contact" name="contact" type="text"
								th:value="${user.getContact()}" >
						</div>
						<!-- Form Group (email address)-->
						<div class="mb-3">
							<label class="small mb-1" for="address">Address</label> <input
								class="form-control" id="address" type="text" name="address"
								th:value="${user.getAddress()}" >
						</div>
						<!-- Form Row-->


						<!-- Save changes button-->
						<button class="btn btn-primary" type="submit" id="user-update">Edit
							changes</button>
						<button class="btn btn-primary" type="submit" formaction="/deleteAccountConfirmationPage">Delete
							Account</button>

					</form>
				</div>
			</div>
		</div>


	</section>
	<script>
		let sidebar = document.querySelector(".sidebar");
		let sidebarBtn = document.querySelector(".sidebarBtn");
		sidebarBtn.onclick = function() {
			sidebar.classList.toggle("active");
			if (sidebar.classList.contains("active")) {
				sidebarBtn.classList.replace("bx-menu", "bx-menu-alt-right");
			} else
				sidebarBtn.classList.replace("bx-menu-alt-right", "bx-menu");
		}
	</script>
<script>
	const loginButton = document.getElementById("user-update");
	
	loginButton.addEventListener("click", (e) => {
	        alert("Profile has been updated successfully.");
	        
	})
	
	</script>
</body>
</html>
