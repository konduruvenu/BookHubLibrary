<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="css/admin.css">
<link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css'
	rel='stylesheet'>
<style>
.home-section .dash-content {
	padding-top: 100px;
}
</style>
<title>All User Records</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<body>
	<div class="sidebar">
		<div class="logo-details">
			<i class='bx bxl-firebase'></i> <span class="logo_name">BookHub</span>
		</div>
		<ul class="nav-links">
			<li><a href="/returnAdminDashboard"> <i
					class='bx bx-grid-alt'></i> <span class="links_name">DashBoard</span>
			</a></li>
			<li><a href="/viewAdminProfile"> <i
					class='bx bxs-user-rectangle bx-flip-horizantal'></i> <span
					class="links_name">My Profile</span>
			</a></li>
			<li><a href="/viewAllCategory"> <i class='bx bx-spreadsheet'></i>
					<span class="links_name">Category</span>
			</a></li>
			<li><a href="/viewAllUsers" class="active"> <i
					class='bx bx-group'></i> <span class="links_name">Users</span>
			</a></li>
			<li><a href="/adminIssueDetails"> <i class='bx bx-merge'></i>
					<span class="links_name">View Issue Books</span>
			</a></li>
			<li><a href="/adminReturnDetails"> <i
					class='bx bx-minus-back'></i> <span class="links_name">View
						Return Books</span>
			</a></li>

			<li class="log_out"><a href="/homepage"> <i class='bx bx-log-out'></i>
					<span class="links_name">Log out</span>
			</a></li>
		</ul>
	</div>
	<section class="home-section">
		<nav>
			<div class="sidebar-button">
				<i class='bx bx-menu sidebarBtn'></i> <span class="dashboard">Dashboard</span>
			</div>
			
			<div class="profile-details">
				<i class='bx bx-user-circle'></i> <span class="admin_name"
					th:object="${user}" th:text="${user.getName()}"></span>
			</div>
		</nav>

		<div class="dash-content">

			<form action="/addNewUser" method="post">
				<div class="row mt-0 text-right" id="filter-buttons">
					<div class="col-8 text-right">
						<span class="text">All Users</span>
						<input type="submit" value="Add New User">
					</div>
				</div>

				<div class="container my-3 col-md-12">
					<table class="table  table-striped table-hover">
						<thead>
							<tr>
								<th scope="col">User ID</th>
								<th scope="col">User Name</th>
								<th scope="col">Email</th>
								<th scope="col">Password</th>
								<th scope="col">Phone Number</th>
								<th scope="col">Address</th>
								<th scope="col">Action</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="b :${users}">
								<td th:text="${b.id}"></td>
								<td th:text="${b.name}"></td>
								<td th:text="${b.email}"></td>
								<td th:text="${b.password}"></td>
								<td th:text="${b.contact}"></td>
								<td th:text="${b.address}"></td>
								<td> 
								<a th:href="@{/deleteUser/{id}(id=${b.id})}"><i
										class="bx bx-trash" id="delete-user"></i></a></td>


							</tr>

						</tbody>
					</table>
				</div>
			</form>
		</div>
	</section>
	<script>
		let sidebar = document.querySelector(".sidebar");
		let sidebarBtn = document.querySelector(".sidebarBtn");
		sidebarBtn.onclick = function() {
			sidebar.classList.toggle("active");
			if (sidebar.classList.contains("active")) {
				sidebarBtn.classList.replace("bx-menu", "bx-menu-alt-right");
			} else
				sidebarBtn.classList.replace("bx-menu-alt-right", "bx-menu");
		}
	</script>
	<script>
	const loginButton = document.getElementById("delete-user");
	
	loginButton.addEventListener("click", (e) => {
	        alert("The User account deleted successfully");
	        
	})
	
	</script>


</body>
</html>